(window.webpackJsonp=window.webpackJsonp||[]).push([[1,6,9],{407:function(e,t,r){var content=r(408);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,r(53).default)("c0466a60",content,!0,{sourceMap:!1})},408:function(e,t,r){var n=r(52)(!1);n.push([e.i,'.a-input__wrapper{display:flex;flex-direction:column;justify-content:flex-start;flex-shrink:1}.a-input__label{display:flex;align-items:center;margin:0;margin-bottom:0.5rem;padding:0;color:var(--a-color_text--secondary);line-height:1rem}.a-input__label--large{font-size:0.875rem}.a-input__label--medium{font-size:0.8125rem}.a-input__label--error{color:var(--a-color_link)}.a-input__label[class*=" si-"]::before{margin-right:0.5rem}.a-input__row{position:relative;display:flex;align-items:center;flex-shrink:1;margin-right:auto}.a-input__row--checkbox{background-color:var(--a-color_white);border:0.0625rem solid var(--a-color_thumbnail);border-radius:var(--a-borderRadius--default)}.a-input__icon{position:absolute;top:calc(50% - 0.75rem);right:1rem;display:flex;justify-content:center;align-items:center;width:1.5rem;height:1.5rem;font-size:1rem;cursor:pointer}.a-input__icon--checkbox{top:50%;left:50%;font-size:1.5rem;pointer-events:none;transform:translate(-50%, -50%)}.a-input{box-sizing:border-box;width:100%;padding:0 1rem;color:var(--a-color_text);border:0.0625rem solid var(--a-color_thumbnail);border-radius:var(--a-borderRadius--default);outline:none;font-size:0.875rem}.a-input:focus{border:0.0625rem solid var(--a-color_text--secondary)}.a-input:invalid{color:var(--a-color_link);border:0.0625rem solid var(--a-color_link)}.a-input:disabled{color:var(--a-color_text--secondary);background-color:var(--a-color_bg--secondary);border:0.0625rem solid var(--a-color_bg--secondary);cursor:auto}.a-input--phone{display:flex;box-sizing:border-box;width:100%}.a-input--large{height:3rem}.a-input--medium{height:2.75rem}.a-input--small{height:2.5rem}.a-input--textarea{resize:vertical;overflow-y:hidden;min-height:5rem;padding:0.75rem 1rem}.a-input--error{color:var(--a-color_link)}.a-input--error::placeholder{color:var(--a-color_link)}.a-input--error,.a-input--error:focus{border:0.0625rem solid var(--a-color_link)}.a-input:disabled+.a-input__icon{display:none}.a-input.a-input--checkbox[type=checkbox]{width:1.5625rem;height:1.5625rem;opacity:0;cursor:pointer}.a-input[type=number]{-moz-appearance:textfield}.a-input[type=number]::-webkit-outer-spin-button,.a-input[type=number]::-webkit-inner-spin-button{-webkit-appearance:none}.a-input__subscription{display:flex;margin:0;margin-top:0.5rem;padding:0;color:var(--a-color_text--secondary);font-size:0.875rem;line-height:1rem}.a-input__subscription--large{font-size:0.875rem}.a-input__subscription--medium{font-size:0.8125rem}',""]),e.exports=n},409:function(e,t,r){var content=r(410);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,r(53).default)("7eb62984",content,!0,{sourceMap:!1})},410:function(e,t,r){var n=r(52)(!1);n.push([e.i,'.a-popup{position:fixed;z-index:1001;top:0;right:0;left:0;bottom:0;display:flex;overflow:hidden;overflow-y:auto;justify-content:center;align-items:flex-start;width:100vw;height:calc(var(--vh, 1vh)*100);flex-shrink:0;flex-grow:0;color:var(--color-text)}@media all and (min-width: 768px){.a-popup{padding:var(--a-padding-x8)}}.a-popup__backdrop{position:fixed;z-index:2;top:0;right:0;left:0;bottom:0;width:100%;height:100%;background:rgba(17,37,61,.5)}.a-popup__container{position:relative;z-index:3;display:flex;flex-direction:column;width:fit-content;height:auto;max-height:100%;margin:auto 0.625rem;padding:var(--a-padding-x8) var(--a-padding-x4);background-color:var(--color-bg);flex-shrink:0;flex-grow:0}@media all and (min-width: 768px){.a-popup__container{padding:var(--a-padding-x12) var(--a-padding-x8);border-radius:var(--border-radius-x3)}}.a-popup__close{position:absolute;top:0.5rem;right:1rem;width:2.125rem;height:2.125rem;padding:var(--a-padding-x2);background-color:var(--color-bg);border-radius:var(--border-radius-x1);cursor:pointer}.a-popup__close::before{content:"";position:absolute;width:1.125rem;height:1.125rem;background-image:url("/images/icons/close.svg");background-repeat:no-repeat;background-position:center;transition:all .4s ease}.a-popup__close:hover::before{transform:scale(0.8)}.a-popup__content{overflow-y:auto}.a-popup__content h1,.a-popup__content h2,.a-popup__content h3,.a-popup__content h4,.a-popup__content h5,.a-popup__content h6,.a-popup__content p{margin-bottom:1em}',""]),e.exports=n},414:function(e,t,r){"use strict";r.r(t);r(45),r(31);var n=r(18),o=(r(239),r(406)),l=(r(407),{name:"a-input",components:{VueTelInput:o.VueTelInput},data:function(){return{touched:!1}},model:{prop:"value",event:"input"},props:{value:{type:[String,Boolean,Number]},label:{type:String},placeholder:{type:String},subscription:{type:String},disabled:{type:Boolean,required:!1},labelIcon:{type:String},icons:{type:String},clearable:{type:Boolean},type:{type:String},attrType:{type:String},size:{type:String,validator:function(e){return-1!==["large","medium","small"].indexOf(e)}},condition:{type:String,validator:function(e){return-1!==["base","focus","error"].indexOf(e)}}},mounted:function(){var e=this;this.$nextTick((function(){e.$refs.phone&&e.$refs.phone.$el.children[1].classList.add("a-input")}))},computed:{rowClasses:function(){return Object(n.a)({},"a-input__row--".concat(this.attrType),this.attrType)},classes:function(){var e;return e={},Object(n.a)(e,"a-input--".concat(this.size||"large"),!0),Object(n.a)(e,"a-input--".concat(this.condition||"base"),!0),Object(n.a)(e,"a-input--".concat(this.attrType),this.attrType),e},typelabel:function(){var e;return e={"a-input__label":!0},Object(n.a)(e,"a-input__label--".concat(this.size||"large"),!0),Object(n.a)(e,"".concat(this.labelIcon),this.labelIcon),Object(n.a)(e,"a-input__label--".concat(this.condition),this.condition),e},typesubs:function(){return Object(n.a)({"a-input__subscription":!0},"a-input__subscription--".concat(this.size||"large"),!0)},valueThis:{get:function(){return this.value},set:function(e){this.$emit("input",e)}}},methods:{changeHandler:function(){this.$emit("change",this.valueThis)},focusHandler:function(){this.touched=!0,this.$emit("focus")},blurHandler:function(){this.touched=!1,this.$emit("blur")},clearableHandler:function(){this.valueThis=""},validateHandler:function(e){this.$emit("validate",e)},resize:function(){var e=this.$refs.aInputTextarea;e.style.height="auto",e.style.cssText="\n        height: ".concat(e.scrollHeight+2,"px;\n      ")}}}),c=r(35),component=Object(c.a)(l,(function(){var e=this,t=e._self._c;return t("div",{staticClass:"a-input__wrapper"},[e.label?t("label",{class:e.typelabel},[e._v(e._s(e.label))]):e._e(),e._v(" "),t("div",{staticClass:"a-input__row",class:e.rowClasses},["phone"==e.type?t("vue-tel-input",{ref:"phone",staticClass:"a-input--phone",class:e.classes,attrs:{validCharactersOnly:"",dropdownOptions:{disabledDialCode:!0,tabindex:0},inputOptions:{showDialCode:!0,tabindex:0},placeholder:e.placeholder,disabled:e.disabled},on:{validate:e.validateHandler,change:e.changeHandler,focus:e.focusHandler,blur:e.blurHandler},model:{value:e.valueThis,callback:function(t){e.valueThis=t},expression:"valueThis"}}):"textarea"==e.type?t("textarea",{directives:[{name:"model",rawName:"v-model",value:e.valueThis,expression:"valueThis"}],ref:"aInputTextarea",staticClass:"a-input a-input--textarea",class:e.classes,attrs:{placeholder:e.placeholder,disabled:e.disabled},domProps:{value:e.valueThis},on:{change:e.changeHandler,focus:e.focusHandler,blur:function(t){e.blurHandler(),e.resize()},keyup:e.resize,input:function(t){t.target.composing||(e.valueThis=t.target.value)}}}):"checkbox"===(e.attrType?e.attrType:"text")?t("input",{directives:[{name:"model",rawName:"v-model",value:e.valueThis,expression:"valueThis"}],ref:"a-input",staticClass:"a-input",class:e.classes,attrs:{size:"",placeholder:e.placeholder,disabled:e.disabled,type:"checkbox"},domProps:{checked:Array.isArray(e.valueThis)?e._i(e.valueThis,null)>-1:e.valueThis},on:{change:[function(t){var r=e.valueThis,n=t.target,o=!!n.checked;if(Array.isArray(r)){var l=e._i(r,null);n.checked?l<0&&(e.valueThis=r.concat([null])):l>-1&&(e.valueThis=r.slice(0,l).concat(r.slice(l+1)))}else e.valueThis=o},e.changeHandler],focus:e.focusHandler,blur:e.blurHandler}}):"radio"===(e.attrType?e.attrType:"text")?t("input",{directives:[{name:"model",rawName:"v-model",value:e.valueThis,expression:"valueThis"}],ref:"a-input",staticClass:"a-input",class:e.classes,attrs:{size:"",placeholder:e.placeholder,disabled:e.disabled,type:"radio"},domProps:{checked:e._q(e.valueThis,null)},on:{change:[function(t){e.valueThis=null},e.changeHandler],focus:e.focusHandler,blur:e.blurHandler}}):t("input",{directives:[{name:"model",rawName:"v-model",value:e.valueThis,expression:"valueThis"}],ref:"a-input",staticClass:"a-input",class:e.classes,attrs:{size:"",placeholder:e.placeholder,disabled:e.disabled,type:e.attrType?e.attrType:"text"},domProps:{value:e.valueThis},on:{change:e.changeHandler,focus:e.focusHandler,blur:e.blurHandler,input:function(t){t.target.composing||(e.valueThis=t.target.value)}}}),e._v(" "),!e.icons||e.touched||e.valueThis||"checkbox"===e.attrType?e._e():t("i",{staticClass:"a-input__icon",class:e.icons}),e._v(" "),e.clearable&&e.touched&&e.valueThis&&"checkbox"!==e.attrType?t("i",{staticClass:"a-input__icon si-closeThin",on:{mousedown:function(e){e.preventDefault()},click:e.clearableHandler}}):e._e(),e._v(" "),"checkbox"===e.attrType&&e.valueThis?t("i",{staticClass:"a-input__icon a-input__icon--checkbox si-done"}):e._e()],1),e._v(" "),e.subscription?t("span",{staticClass:"a-input__subscription",class:e.typesubs},[e._v(e._s(e.subscription))]):e._e()])}),[],!1,null,null,null);t.default=component.exports},415:function(e,t,r){"use strict";r.r(t);r(21),r(19),r(132);var n=r(5),o=(r(54),r(45),r(421)),l=r(406),c=r(414);function d(e){return m.apply(this,arguments)}function m(){return(m=Object(n.a)(regeneratorRuntime.mark((function e(data){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,$nuxt.context.$baseAxios.post("v1/events/register",data);case 2:return t=e.sent,e.abrupt("return",t.data);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var h="0b265a1bc90ab2790168733739e40437ebc2df2c";function f(e){return v.apply(this,arguments)}function v(){return(v=Object(n.a)(regeneratorRuntime.mark((function e(t){var r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,$nuxt.context.$baseAxios({method:"post",url:"https://suggestions.dadata.ru/suggestions/api/4_1/rs/suggest/address",headers:{"Content-Type":"application/json",Accept:"application/json",Authorization:"Token ".concat(h)},data:{query:t,from_bound:{value:"region"},to_bound:{value:"region"},count:3},params:{externalToken:!0}});case 2:return r=e.sent,e.abrupt("return",r.data);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}r(422);var _={name:"m-form-registration",components:{MForm:o.MForm,AInput:c.default,VueTelInput:l.VueTelInput},props:["title","subtitle","titleClass","checkboxText","btnText","typeCtrl","typeBtn","checked","eventCurrent"],data:function(){return{fieldsData:{name:"",surname:"",phone:"",email:"",area:""},vueTelOpts:{mode:"international",preferredCountries:["RU","US"],wrapperClasses:"",inputClasses:"",autoFormat:!0,inputOptions:{showDialCode:!1,placeholder:"Телефон",maxlength:14}},search:"",searchDone:"",searchComplete:!1,suggestedCities:[],maxPhoneLength:16,localRuPhoneLength:11,validFlag:!1,emailErrorMessage:"",validPhone:!1,initCall:!1}},watch:{search:function(){this.fetchCities()},searchDone:function(){""===this.searchDone&&(this.search="",this.searchComplete=!1)}},methods:{focus:function(e){var element=this.$refs[e].$el;element&&element.scrollIntoView({behavior:"smooth"})},sendForm:function(){var e=this;return Object(n.a)(regeneratorRuntime.mark((function t(){var r,n,o,l,c;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return document.querySelector("html").style.overflowY=e.isOpen?"hidden":"visible",e.errorMessage=!1,r={name:e.fieldsData.name,surname:e.fieldsData.surname,area:e.fieldsData.area,phone:e.fieldsData.phone,email:e.fieldsData.email,eventId:e.eventCurrent.id,mergelead:"name_".concat(e.fieldsData.name,"_email_").concat(e.fieldsData.email),"comments[мероприятие]":e.eventCurrent.name,"comments[начало мероприятия]":e.eventCurrent.dateFrom},e.sendFormToLander(r),t.prev=5,t.next=8,d(r);case 8:e.$router.push({path:"/thanks"}),t.next=16;break;case 11:t.prev=11,t.t0=t.catch(5),l=null===(n=t.t0.response)||void 0===n||null===(o=n.data)||void 0===o?void 0:o.errors,c=(null==l?void 0:l.email)&&(null==l?void 0:l.email[0]),e.emailErrorMessage=c||"";case 16:case"end":return t.stop()}}),t,null,[[5,11]])})))()},sendFormToLander:function(data){this.$lander.send(data).then((function(){}))},validatePhone:function(e,t){var r=t.valid,n=t.number,o=this.vueTelOpts,l=o.inputOptions,c="8"===e[0];l.maxlength=this.maxPhoneLength,o.autoFormat=!c,this.validPhone=r&&c?e.length===this.localRuPhoneLength:r,r&&(o.mode=c?"auto":"international",l.maxlength=c?this.localRuPhoneLength:n.length),this.validFormData()},validFormData:function(){var e,t,r,n=[{value:null===(e=this.fieldsData)||void 0===e?void 0:e.name},{value:null===(t=this.fieldsData)||void 0===t?void 0:t.surname},{value:this.search},{value:null===(r=this.fieldsData)||void 0===r?void 0:r.email,type:"email"}];this.validFlag=this.$lander.valid(n)&&this.validPhone,this.$lander.storage.save("form-registration",this.fieldsData),sessionStorage.setItem("thankspage",JSON.stringify(this.eventCurrent))},selectItemClickHandler:function(e){this.fieldsData.area=e.value,this.suggestedCities=[],this.searchDone=e.value,this.searchComplete=!this.searchComplete},fetchCities:function(){var e=this;return Object(n.a)(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,f(e.search);case 2:r=t.sent,e.suggestedCities=r.suggestions;case 4:case"end":return t.stop()}}),t)})))()}}},x=r(35),component=Object(x.a)(_,(function(){var e=this,t=e._self._c;return t("div",{staticClass:"m-form-registration"},[t("m-form",{ref:"form",attrs:{isVertical:!0,title:e.title,checkboxText:e.checkboxText,btnText:"Отправить",typeCtrl:e.typeCtrl,typeBtn:e.typeBtn,checked:e.checked,submitDisabled:!e.validFlag},on:{"submit-disabled":function(t){e.validFlag=t},click:e.sendForm},scopedSlots:e._u([{key:"inputs",fn:function(){return[[t("a-input",{ref:"name",staticClass:"m-form__input",attrs:{placeholder:"Ваше имя",type:"text"},on:{input:e.validFormData,focus:function(t){return e.focus("name")}},model:{value:e.fieldsData.name,callback:function(t){e.$set(e.fieldsData,"name",t)},expression:"fieldsData.name"}}),e._v(" "),t("a-input",{ref:"surname",staticClass:"m-form__input",attrs:{placeholder:"Ваша фамилия",type:"text"},on:{input:e.validFormData,focus:function(t){return e.focus("surname")}},model:{value:e.fieldsData.surname,callback:function(t){e.$set(e.fieldsData,"surname",t)},expression:"fieldsData.surname"}}),e._v(" "),t("vue-tel-input",e._b({ref:"tel",attrs:{placeholder:"Телефон",type:"phone"},on:{focus:function(t){return e.focus("tel")},input:e.validatePhone,change:e.validFormData},model:{value:e.fieldsData.phone,callback:function(t){e.$set(e.fieldsData,"phone",t)},expression:"fieldsData.phone"}},"vue-tel-input",e.vueTelOpts,!1)),e._v(" "),t("a-input",{ref:"email",staticClass:"m-form__input",attrs:{label:e.emailErrorMessage,labelIcon:e.emailErrorMessage?"si-info":"",condition:e.emailErrorMessage?"error":"base",placeholder:"Почта",type:"email"},on:{focus:function(t){return e.focus("email")},input:e.validFormData},model:{value:e.fieldsData.email,callback:function(t){e.$set(e.fieldsData,"email",t)},expression:"fieldsData.email"}}),e._v(" "),e.searchComplete?t("a-input",{staticClass:"m-form__input",attrs:{placeholder:"Регион",type:"text"},model:{value:e.searchDone,callback:function(t){e.searchDone=t},expression:"searchDone"}}):t("div",{staticClass:"m-form__serchbox"},[t("a-input",{staticClass:"m-form__input-search",attrs:{clearable:"",icons:"si-search",placeholder:"Регион"},on:{input:e.validFormData},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}}),e._v(" "),t("div",{staticClass:"m-form__input-cities"},e._l(e.suggestedCities,(function(r,n){return t("div",{key:n,staticClass:"m-form__input-city",class:{active:r.value===e.fieldsData.area},on:{click:function(t){return e.selectItemClickHandler(r)}}},[t("p",{staticClass:"m-form__input-city-label",domProps:{innerHTML:e._s(r.value)}}),e._v(" "),r.value===e.fieldsData.area?t("i",{staticClass:"m-form__input-city-selected si-done"}):e._e()])})),0)],1)]]},proxy:!0}])})],1)}),[],!1,null,null,null);t.default=component.exports;installComponents(component,{AInput:r(414).default,MForm:r(419).default})},419:function(e,t,r){"use strict";r.r(t);r(409);var n={name:"m-form",props:{personalData:{type:Boolean,default:!1}}},o=r(35),component=Object(o.a)(n,(function(){var e=this,t=e._self._c;return t("div",{staticClass:"m-form"},[e.title?t("div",{staticClass:"m-form__title"},[e._v(e._s(e.title))]):e._e(),e._v(" "),t("div",{staticClass:"m-form__inputs",class:e.classes},[e._t("inputs")],2),e._v(" "),t("div",{staticClass:"m-form__checkbox"})])}),[],!1,null,null,null);t.default=component.exports},422:function(e,t,r){var content=r(423);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,r(53).default)("776e7eb6",content,!0,{sourceMap:!1})},423:function(e,t,r){var n=r(52)(!1);n.push([e.i,".m-form-registration .m-form .vue-tel-input{width:100%;height:3rem;margin:0 0 1rem}.m-form-registration .m-form .vue-tel-input:focus-within{border:.0625rem solid var(--a-color_text--secondary);box-shadow:none}.m-form-registration .m-form__serchbox{position:relative;width:100%}.m-form-registration .m-form__input-cities{position:absolute;z-index:1;top:50px;width:100%;padding:0.5rem 1rem}.m-form-registration .m-form__input-cities:has(div){padding:0.5rem 1rem;background:var(--color-white);border:1px solid var(--a-color_text--secondary);border-radius:var(--border-radius-x1)}.m-form-registration .m-form__input-city{display:flex;justify-content:space-between;align-items:center;margin-bottom:0.375rem}.m-form-registration .m-form__input-city.active{color:var(--a-color_text--secondary)}.m-form-registration .m-form__input-city-label{margin:0;font-size:1rem}.m-form-registration .m-form__input-city-selected{color:var(--a-color_text--secondary);font-size:1.25rem}@media screen and (max-width: 540px){.m-form-registration .m-form__input-city-selected{font-size:1.125rem}}.m-form-registration .m-form__input-city:hover{color:var(--a-color_text--secondary);cursor:pointer}.m-form-registration .m-form__input-search{width:100%;margin:0 0 1rem}.m-form-registration .m-form__input-search .a-input__row{width:100%}.m-form-registration .m-form--vertical{display:flex;flex-direction:column;justify-content:space-between}.m-form-registration .m-form--vertical .m-form__inputs{width:100%}.m-form-registration .m-form--vertical .m-form__checkbox{order:1}",""]),e.exports=n}}]);